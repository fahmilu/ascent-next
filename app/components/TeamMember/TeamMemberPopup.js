"use client";

import Image from "next/image";
import styles from "./TeamMember.module.scss";

const TeamMemberPopup = ({ member, onClose }) => {
    return (
        <div className="fixed inset-0 z-50 flex items-center justify-center md:p-4 w-full h-full">
            <div className="absolute w-full h-full bg-black/80 cursor-pointer" onClick={onClose}></div>
            <div className={`${styles.teamMemberPopup} max-h-screen max-md:overflow-y-auto sm:rounded-md border border-[#B3B3B3]`}>
                <div className="fixed sm:absolute top-2 right-2 z-10 md:-top-10 md:right-0">
                    <button onClick={onClose} className="cursor-pointer" >
                        <svg xmlns="http://www.w3.org/2000/svg" width={31} height={31} viewBox="0 0 31 31" fill="none" className="sm:hidden block scale-[70%]">
                            <g clipPath="url(#clip0_24_157)">
                                <path d="M0.799988 29.38L29.38 0.800049" stroke="red" strokeWidth="2.25" strokeMiterlimit={10} />
                                <path d="M0.799988 0.800049L29.38 29.38" stroke="red" strokeWidth="2.25" strokeMiterlimit={10} />
                            </g>
                            <defs>
                                <clipPath id="clip0_24_157">
                                    <rect width="30.18" height="30.18" fill="red" />
                                </clipPath>
                            </defs>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width={31} height={31} viewBox="0 0 31 31" fill="none" className="sm:block hidden">
                            <g clipPath="url(#clip0_24_157)">
                                <path d="M0.799988 29.38L29.38 0.800049" stroke="white" strokeWidth="2.25" strokeMiterlimit={10} />
                                <path d="M0.799988 0.800049L29.38 29.38" stroke="white" strokeWidth="2.25" strokeMiterlimit={10} />
                            </g>
                            <defs>
                                <clipPath id="clip0_24_157">
                                    <rect width="30.18" height="30.18" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                    </button>
                </div>
                <div className="flex flex-col md:flex-row">
                    <div className={`relative w-full md:min-w-[382px] md:w-[382px] min-h-[320px] md:min-h-[462px] overflow-hidden ${styles.teamMemberPopupImage}`}>
                        <div className="absolute bottom-0 right-0">
                            <svg xmlns="http://www.w3.org/2000/svg" width={210} height={338} viewBox="0 0 210 338" fill="none">
                                <path d="M165.013 6.16083C167.816 5.54813 170.647 4.99881 173.492 4.49878L201.672 125.582L205.679 1.3578C207.123 1.32963 208.553 1.24512 210.004 1.24512C211.454 1.24512 212.884 1.32259 214.328 1.3578L218.335 125.575L246.508 4.49174C249.353 4.99176 252.184 5.54109 254.987 6.15379L234.675 128.821L285.949 15.5486C288.639 16.5979 291.301 17.6895 293.936 18.8445L250.078 135.209L322.446 34.1269C324.876 35.6833 327.27 37.282 329.63 38.9299L263.932 144.47L354.611 59.466C356.689 61.4591 358.725 63.5014 360.725 65.579L275.715 156.259L381.262 90.566C382.91 92.9253 384.516 95.3198 386.066 97.7495L284.977 170.112L401.349 126.258C402.504 128.892 403.596 131.554 404.645 134.244L291.351 185.507L414.027 165.196C414.639 167.999 415.189 170.83 415.689 173.675L294.598 201.853L418.823 205.86C418.851 207.304 418.935 208.733 418.935 210.184C418.935 211.635 418.858 213.064 418.823 214.508L294.598 218.515L415.689 246.693C415.189 249.538 414.639 252.362 414.027 255.172L291.351 234.861L404.645 286.131C403.596 288.821 402.504 291.484 401.349 294.117L284.977 250.263L386.066 322.626C384.509 325.055 382.91 327.45 381.262 329.809L275.715 264.116L360.725 354.796C358.732 356.874 356.696 358.909 354.611 360.909L263.932 275.905L329.63 381.445C327.27 383.093 324.876 384.699 322.446 386.248L250.078 285.166L293.936 401.531C291.301 402.686 288.639 403.777 285.949 404.827L234.675 291.54L254.987 414.207C252.184 414.82 249.353 415.369 246.508 415.869L218.328 294.786L214.321 419.003C212.877 419.032 211.447 419.116 209.996 419.116C208.546 419.116 207.116 419.039 205.672 419.003L201.665 294.786L173.485 415.869C170.64 415.369 167.816 414.82 165.006 414.207L185.318 291.54L134.051 404.827C131.361 403.777 128.699 402.686 126.065 401.531L169.922 285.166L97.5542 386.248C95.1244 384.692 92.7298 383.093 90.3703 381.445L156.068 275.905L65.3816 360.909C63.3039 358.916 61.2685 356.874 59.2682 354.796L144.278 264.123L38.7307 329.816C37.0827 327.457 35.4768 325.063 33.9274 322.633L135.016 250.27L18.644 294.125C17.4889 291.491 16.3972 288.828 15.3478 286.138L128.642 234.868L5.96647 255.179C5.35373 252.376 4.80437 249.545 4.30432 246.7L125.395 218.522L1.1772 214.487C1.14903 213.043 1.06451 211.614 1.06451 210.163C1.06451 208.712 1.14199 207.283 1.1772 205.839L125.402 201.832L4.31136 173.661C4.81141 170.816 5.36077 167.992 5.97352 165.182L128.649 185.493L15.3619 134.23C16.4113 131.54 17.503 128.878 18.658 126.244L135.03 170.098L33.9485 97.7354C35.505 95.3057 37.1038 92.9112 38.7519 90.552L144.299 156.245L59.2823 65.5649C61.2755 63.4874 63.318 61.452 65.3957 59.452L156.075 144.456L90.3774 38.9229C92.7368 37.2749 95.1315 35.6692 97.5613 34.1198L169.929 135.202L126.072 18.8445C128.706 17.6895 131.368 16.5979 134.058 15.5486L185.325 128.835L165.013 6.16083Z" stroke="url(#paint0_linear_24_183)" strokeWidth={2} strokeMiterlimit={10} />
                                <defs>
                                    <linearGradient id="paint0_linear_24_183" x1="0.0221433" y1="210.17" x2="419.978" y2="210.17" gradientUnits="userSpaceOnUse">
                                        <stop stopColor="#E93323" />
                                        <stop offset={1} stopColor="#306DBD" />
                                    </linearGradient>
                                </defs>
                            </svg>

                        </div>
                        <Image
                            src={member.image_url ? member.image_url : `http://212.85.24.190/storage/${member.image}`}
                            alt={member.name}
                            fill
                            className="object-contain object-bottom !w-[95%]"
                        />
                    </div>
                    <div className="w-full flex-grow p-6 md:p-8">
                        <div className="flex items-center justify-between gap-4 pb-4 border-b border-[#B3B3B3] mb-4">
                            <div>
                                <h2 className="sm:text-[32px]/[141%] text-[20px]/[141%] font-medium sm:mb-2.5">{member.name}</h2>
                                <p className="sm:text-[16px]/[155%] text-[12px]/[155%]">{member.position}</p>
                            </div>
                            {member.linkedin && (
                            <a href={member.linkedin}  className="sm:hidden min-w-[26px] min-h-[26px]" target="_blank" rel="noopener noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" width={26} height={26} viewBox="0 0 26 26" fill="none">
                                    <path d="M23.8656 26.0099H2.14433C1.92593 25.9206 1.71745 25.9007 1.47919 25.8114C0.655212 25.4937 0.198549 24.7591 0 23.9351V2.07484C0.258114 0.893471 1.08209 0.0992745 2.3131 0H23.6174C25.0172 0.109202 25.9007 0.982818 26 2.38259V23.6869C25.9404 24.8484 25.0271 25.8709 23.8557 26.0099H23.8656ZM8.47804 6.43299C8.47804 5.31119 7.57465 4.40779 6.45284 4.40779C5.33104 4.40779 4.42764 5.31119 4.42764 6.43299C4.42764 7.55479 5.33104 8.45819 6.45284 8.45819C7.57465 8.45819 8.47804 7.55479 8.47804 6.43299ZM21.3043 21.2348C21.2447 19.2493 21.3738 17.2341 21.3043 15.2486C21.2447 13.5907 21.1455 11.3769 19.5968 10.3841C18.614 9.75869 17.0951 9.63956 15.9733 9.91753C15.05 10.1459 14.2955 10.7911 13.7594 11.5456V10.126L13.6602 10.0267H10.4437V21.2348H13.8984V14.9011C13.8984 14.5934 14.1863 13.7793 14.3849 13.5212C15.0997 12.5682 17.0157 12.5682 17.5319 13.7595C17.6014 13.9084 17.7701 14.5636 17.7701 14.6926V21.2249H21.2944L21.3043 21.2348ZM4.7751 10.0367V21.2448H8.22986V10.0367H4.7751Z" fill="#1B2057" />
                                </svg>
                            </a>
                        )}
                        </div>
                        {member.description && (
                            <div dangerouslySetInnerHTML={{ __html: member.description }} className={`contents`} />
                        )}
                        {member.linkedin && (
                            <a href={member.linkedin} target="_blank" className="sm:block hidden" rel="noopener noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" width={26} height={26} viewBox="0 0 26 26" fill="none">
                                    <path d="M23.8656 26.0099H2.14433C1.92593 25.9206 1.71745 25.9007 1.47919 25.8114C0.655212 25.4937 0.198549 24.7591 0 23.9351V2.07484C0.258114 0.893471 1.08209 0.0992745 2.3131 0H23.6174C25.0172 0.109202 25.9007 0.982818 26 2.38259V23.6869C25.9404 24.8484 25.0271 25.8709 23.8557 26.0099H23.8656ZM8.47804 6.43299C8.47804 5.31119 7.57465 4.40779 6.45284 4.40779C5.33104 4.40779 4.42764 5.31119 4.42764 6.43299C4.42764 7.55479 5.33104 8.45819 6.45284 8.45819C7.57465 8.45819 8.47804 7.55479 8.47804 6.43299ZM21.3043 21.2348C21.2447 19.2493 21.3738 17.2341 21.3043 15.2486C21.2447 13.5907 21.1455 11.3769 19.5968 10.3841C18.614 9.75869 17.0951 9.63956 15.9733 9.91753C15.05 10.1459 14.2955 10.7911 13.7594 11.5456V10.126L13.6602 10.0267H10.4437V21.2348H13.8984V14.9011C13.8984 14.5934 14.1863 13.7793 14.3849 13.5212C15.0997 12.5682 17.0157 12.5682 17.5319 13.7595C17.6014 13.9084 17.7701 14.5636 17.7701 14.6926V21.2249H21.2944L21.3043 21.2348ZM4.7751 10.0367V21.2448H8.22986V10.0367H4.7751Z" fill="#1B2057" />
                                </svg>
                            </a>
                        )}
                    </div>
                </div>
            </div>
        </div>
    );
};

export default TeamMemberPopup; 